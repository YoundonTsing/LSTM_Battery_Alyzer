<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battery LSTM 项目技术分析报告</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            border-radius: 15px;
            margin: -20px -20px 40px -20px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
        }

        .toc h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            margin-bottom: 8px;
        }

        .toc a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.3s;
        }

        .toc a:hover {
            color: #2980b9;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 5px solid;
        }

        .section.architecture {
            border-left-color: #e74c3c;
        }

        .section.business {
            border-left-color: #f39c12;
        }

        .section.tech-stack {
            border-left-color: #27ae60;
        }

        .section.usage {
            border-left-color: #9b59b6;
        }

        .section.optimization {
            border-left-color: #34495e;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin: 20px 0 15px 0;
        }

        .section h4 {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin: 15px 0 10px 0;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tech-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .tech-card h4 {
            color: #3498db;
            margin-bottom: 10px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
        }

        .architecture-diagram {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .flow-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .flow-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 25px;
            min-width: 150px;
            text-align: center;
            font-weight: 500;
            position: relative;
        }

        .flow-step:after {
            content: '→';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            color: #3498db;
            font-size: 1.5rem;
        }

        .flow-step:last-child:after {
            display: none;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
        }

        .info-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .footer {
            text-align: center;
            padding: 30px;
            background: #2c3e50;
            color: white;
            border-radius: 15px;
            margin: 40px -20px -20px -20px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .flow-diagram {
                flex-direction: column;
            }

            .flow-step:after {
                content: '↓';
                right: 50%;
                top: 100%;
                transform: translateX(50%);
            }
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔋 Battery LSTM 项目技术分析报告</h1>
            <div class="subtitle">基于深度学习的智能电池充电仿真与RUL预测系统</div>
        </div>

        <div class="toc">
            <h2>📋 目录</h2>
            <ul>
                <li><a href="#architecture">🏗️ 架构设计</a></li>
                <li><a href="#business">💼 功能业务</a></li>
                <li><a href="#tech-stack">🛠️ 技术栈</a></li>
                <li><a href="#usage">📖 使用方法</a></li>
                <li><a href="#optimization">🚀 扩展优化</a></li>
            </ul>
        </div>

        <div class="section architecture" id="architecture">
            <h2>🏗️ 架构设计</h2>
            
            <h3>📐 系统整体架构</h3>
            <div class="architecture-diagram">
                <div class="flow-diagram">
                    <div class="flow-step">Vue.js 前端</div>
                    <div class="flow-step">WebSocket/REST</div>
                    <div class="flow-step">FastAPI 后端</div>
                    <div class="flow-step">TensorFlow 模型</div>
                    <div class="flow-step">SQLite 数据库</div>
                </div>
            </div>

            <h3>🔧 核心组件结构</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>🖥️ 前端层 (Frontend)</h4>
                    <ul>
                        <li><strong>UI组件</strong>: Vue.js 3.x + Composition API</li>
                        <li><strong>状态管理</strong>: 响应式数据绑定</li>
                        <li><strong>可视化</strong>: Chart.js + SVG动画</li>
                        <li><strong>通信</strong>: Socket.IO + Fetch API</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>⚙️ 后端层 (Backend)</h4>
                    <ul>
                        <li><strong>API服务</strong>: FastAPI + Uvicorn</li>
                        <li><strong>实时通信</strong>: Socket.IO异步处理</li>
                        <li><strong>电池模拟</strong>: 物理模型计算</li>
                        <li><strong>数据存储</strong>: SQLite + JSON序列化</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🧠 AI层 (AI Models)</h4>
                    <ul>
                        <li><strong>RUL预测</strong>: CNN+LSTM混合模型</li>
                        <li><strong>参数优化</strong>: 多因素充电调控</li>
                        <li><strong>训练管道</strong>: K折交叉验证</li>
                        <li><strong>模型管理</strong>: 动态加载与激活</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>💾 数据层 (Data Layer)</h4>
                    <ul>
                        <li><strong>实时数据</strong>: 电池状态时序数据</li>
                        <li><strong>历史记录</strong>: 充放电过程记录</li>
                        <li><strong>训练数据</strong>: NASA电池数据集</li>
                        <li><strong>模型存储</strong>: Keras .keras格式</li>
                    </ul>
                </div>
            </div>

            <h3>📊 数据流架构</h3>
            <div class="code-block">
用户操作 → Vue组件 → API调用 → FastAPI路由 → 业务逻辑 → 模型预测 → 数据库存储
    ↓          ↓         ↓          ↓          ↓          ↓          ↓
WebSocket ← 状态更新 ← JSON响应 ← 电池模拟 ← 参数调整 ← RUL计算 ← 历史数据
            </div>

            <h3>🔄 实时通信机制</h3>
            <div class="info-box">
                <strong>双重保障通信:</strong>
                <ul>
                    <li><strong>主要通道</strong>: WebSocket (Socket.IO) - 实时双向通信</li>
                    <li><strong>备用通道</strong>: REST API - HTTP轮询机制</li>
                    <li><strong>故障转移</strong>: WebSocket断线时自动切换到REST轮询</li>
                    <li><strong>CORS处理</strong>: 自定义中间件避免Socket.IO冲突</li>
                </ul>
            </div>
        </div>

        <div class="section business" id="business">
            <h2>💼 功能业务</h2>

            <h3>🎯 核心功能模块</h3>
            <div class="feature-list">
                <div class="feature-item">🔋 电池状态监控</div>
                <div class="feature-item">⚡ 多阶段充电控制</div>
                <div class="feature-item">🔽 放电过程模拟</div>
                <div class="feature-item">🧠 RUL智能预测</div>
                <div class="feature-item">📊 数据可视化分析</div>
                <div class="feature-item">📈 充电统计报表</div>
                <div class="feature-item">🛠️ 参数实时调节</div>
                <div class="feature-item">💾 历史记录管理</div>
            </div>

            <h3>⚡ 充电控制业务流程</h3>
            <div class="architecture-diagram">
                <div class="flow-diagram">
                    <div class="flow-step">初始化参数</div>
                    <div class="flow-step">恒流充电(CC)</div>
                    <div class="flow-step">恒压充电(CV)</div>
                    <div class="flow-step">涓流充电</div>
                    <div class="flow-step">充电完成</div>
                </div>
            </div>

            <h4>📋 充电阶段详解</h4>
            <table>
                <thead>
                    <tr>
                        <th>阶段</th>
                        <th>控制方式</th>
                        <th>终止条件</th>
                        <th>典型参数</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>🔵 恒流阶段(CC)</td>
                        <td>恒定电流充电</td>
                        <td>电压达到4.2V</td>
                        <td>0.5C电流</td>
                    </tr>
                    <tr>
                        <td>🟡 恒压阶段(CV)</td>
                        <td>恒定电压充电</td>
                        <td>电流降至0.05C</td>
                        <td>4.2V电压</td>
                    </tr>
                    <tr>
                        <td>🟢 涓流阶段</td>
                        <td>小电流维持</td>
                        <td>SOC达到100%</td>
                        <td>0.05C电流</td>
                    </tr>
                </tbody>
            </table>

            <h3>🧠 RUL预测业务逻辑</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>📥 数据输入</h4>
                    <ul>
                        <li>充电曲线: 电压、电流、温度</li>
                        <li>历史容量: 放电容量衰减</li>
                        <li>静态特征: 循环次数、健康度</li>
                        <li>环境参数: 工作温度、内阻</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔄 模型处理</h4>
                    <ul>
                        <li>CNN特征提取: 充电曲线特征</li>
                        <li>LSTM时序建模: 容量衰减趋势</li>
                        <li>特征融合: 多模态信息融合</li>
                        <li>集成预测: K折模型平均</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>📤 输出应用</h4>
                    <ul>
                        <li>RUL百分比: 0-100%剩余寿命</li>
                        <li>健康等级: A/B+/B/C/D评级</li>
                        <li>充电策略: 标准/经济/延寿</li>
                        <li>维护建议: 个性化保养方案</li>
                    </ul>
                </div>
            </div>

            <h3>⚙️ 智能参数调控</h3>
            <div class="warning-box">
                <strong>多因素动态调控机制:</strong>
                <ul>
                    <li><strong>RUL驱动</strong>: 根据剩余寿命调整充电强度 (0.2-1.0倍率)</li>
                    <li><strong>温度保护</strong>: 高温降流、低温预热 (0.5-1.0调整因子)</li>
                    <li><strong>SOC优化</strong>: 高SOC区域渐进式降流 (0.6-1.0调整范围)</li>
                    <li><strong>内阻补偿</strong>: 内阻升高时降低充电电流 (0.8-1.0补偿)</li>
                    <li><strong>电压保护</strong>: 接近满电时保守充电 (0.8-1.0安全系数)</li>
                </ul>
            </div>

            <h3>📊 业务数据统计</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">13+</span>
                    <span class="stat-label">Vue组件</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">25+</span>
                    <span class="stat-label">API端点</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">3</span>
                    <span class="stat-label">深度学习模型</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">5+</span>
                    <span class="stat-label">充电参数</span>
                </div>
            </div>
        </div>

        <div class="section tech-stack" id="tech-stack">
            <h2>🛠️ 技术栈</h2>

            <h3>🖥️ 前端技术栈</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>🚀 核心框架</h4>
                    <ul>
                        <li><span class="highlight">Vue.js 3.3.4</span> - 响应式前端框架</li>
                        <li><span class="highlight">Composition API</span> - 组合式API</li>
                        <li><span class="highlight">Vite 4.4.0</span> - 现代化构建工具</li>
                        <li><span class="highlight">ES6+ Modules</span> - 模块化开发</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>📊 数据可视化</h4>
                    <ul>
                        <li><span class="highlight">Chart.js 4.3.0</span> - 图表库</li>
                        <li><span class="highlight">Vue-ChartJS 5.2.0</span> - Vue图表组件</li>
                        <li><span class="highlight">SVG Animation</span> - 电池状态动画</li>
                        <li><span class="highlight">CSS3 Transitions</span> - 平滑过渡效果</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔌 通信协议</h4>
                    <ul>
                        <li><span class="highlight">Socket.IO Client 4.7.1</span> - 实时通信</li>
                        <li><span class="highlight">Fetch API</span> - HTTP请求</li>
                        <li><span class="highlight">EventSource</span> - 服务端推送</li>
                        <li><span class="highlight">WebSocket Fallback</span> - 连接降级</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🎨 UI/UX设计</h4>
                    <ul>
                        <li><span class="highlight">响应式布局</span> - CSS Grid + Flexbox</li>
                        <li><span class="highlight">渐变设计</span> - 现代化视觉效果</li>
                        <li><span class="highlight">卡片式布局</span> - 模块化界面</li>
                        <li><span class="highlight">暗色主题</span> - 护眼模式支持</li>
                    </ul>
                </div>
            </div>

            <h3>⚙️ 后端技术栈</h3>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>🐍 Python生态</h4>
                    <ul>
                        <li><span class="highlight">Python 3.8+</span> - 主要开发语言</li>
                        <li><span class="highlight">FastAPI</span> - 高性能Web框架</li>
                        <li><span class="highlight">Uvicorn</span> - ASGI服务器</li>
                        <li><span class="highlight">Pydantic</span> - 数据验证</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🧠 机器学习</h4>
                    <ul>
                        <li><span class="highlight">TensorFlow 2.x</span> - 深度学习框架</li>
                        <li><span class="highlight">Keras</span> - 高级神经网络API</li>
                        <li><span class="highlight">Scikit-learn</span> - 机器学习工具</li>
                        <li><span class="highlight">PyTorch</span> - 备用深度学习框架</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>📊 数据处理</h4>
                    <ul>
                        <li><span class="highlight">NumPy</span> - 数值计算</li>
                        <li><span class="highlight">Pandas</span> - 数据分析</li>
                        <li><span class="highlight">Matplotlib</span> - 数据可视化</li>
                        <li><span class="highlight">MinMaxScaler</span> - 数据归一化</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔄 并发异步</h4>
                    <ul>
                        <li><span class="highlight">AsyncIO</span> - 异步编程</li>
                        <li><span class="highlight">Socket.IO</span> - WebSocket通信</li>
                        <li><span class="highlight">Threading</span> - 多线程处理</li>
                        <li><span class="highlight">Subprocess</span> - 子进程管理</li>
                    </ul>
                </div>
            </div>

            <h3>🧠 AI/ML技术栈</h3>
            <div class="architecture-diagram">
                <h4>🏗️ CNN+LSTM混合架构</h4>
                <div class="code-block">
输入层:
├── CNN分支: 充电曲线特征提取 (V, I, T) → Conv1D → MaxPooling → Flatten
└── LSTM分支: 容量衰减序列建模 (Capacity) → LSTM → Dense

特征融合层:
└── Concatenate → Dense(64) → Dropout(0.3) → Dense(32) → Dense(1)

输出层:
└── RUL预测值 (剩余循环次数)
                </div>
            </div>

            <h3>💾 数据存储技术</h3>
            <table>
                <thead>
                    <tr>
                        <th>数据类型</th>
                        <th>存储方式</th>
                        <th>格式</th>
                        <th>用途</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>实时状态</td>
                        <td>内存缓存</td>
                        <td>Python字典</td>
                        <td>实时显示</td>
                    </tr>
                    <tr>
                        <td>历史记录</td>
                        <td>SQLite数据库</td>
                        <td>关系型表</td>
                        <td>长期存储</td>
                    </tr>
                    <tr>
                        <td>训练数据</td>
                        <td>CSV文件</td>
                        <td>结构化数据</td>
                        <td>模型训练</td>
                    </tr>
                    <tr>
                        <td>深度学习模型</td>
                        <td>Keras格式</td>
                        <td>.keras文件</td>
                        <td>模型推理</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section usage" id="usage">
            <h2>📖 使用方法</h2>

            <h3>🚀 快速启动指南</h3>
            <div class="architecture-diagram">
                <div class="flow-diagram">
                    <div class="flow-step">环境准备</div>
                    <div class="flow-step">依赖安装</div>
                    <div class="flow-step">后端启动</div>
                    <div class="flow-step">前端启动</div>
                    <div class="flow-step">开始使用</div>
                </div>
            </div>

            <h4>📋 环境要求</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>🖥️ 系统环境</h4>
                    <ul>
                        <li>操作系统: Windows 10+ / Linux / macOS</li>
                        <li>Python: 3.8+ (推荐3.9+)</li>
                        <li>Node.js: 16+ (推荐18+)</li>
                        <li>内存: 8GB+ (推荐16GB+)</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔧 开发工具</h4>
                    <ul>
                        <li>IDE: VS Code / PyCharm</li>
                        <li>浏览器: Chrome 90+ / Firefox 88+</li>
                        <li>Git: 版本控制</li>
                        <li>Postman: API测试 (可选)</li>
                    </ul>
                </div>
            </div>

            <h4>⚙️ 后端部署步骤</h4>
            <div class="code-block">
# 1. 克隆项目
git clone https://github.com/your-repo/battery-lstm.git
cd battery-lstm

# 2. 创建虚拟环境
python -m venv battery_env
battery_env\Scripts\activate  # Windows
source battery_env/bin/activate  # Linux/macOS

# 3. 安装依赖
cd battery-charging-simulator/backend
pip install -r requirements.txt

# 4. 启动后端服务
python server.py
# 服务运行在 http://localhost:8001
            </div>

            <h4>🖥️ 前端部署步骤</h4>
            <div class="code-block">
# 1. 进入前端目录
cd battery-charging-simulator/frontend

# 2. 安装依赖
npm install

# 3. 启动开发服务器
npm run dev
# 前端运行在 http://localhost:5111

# 4. 构建生产版本 (可选)
npm run build
npm run preview
            </div>

            <h3>🎯 核心功能使用</h3>

            <h4>⚡ 充电仿真操作</h4>
            <div class="info-box">
                <strong>基础操作流程:</strong>
                <ol>
                    <li><strong>参数设置</strong>: 调整内阻、温度等初始参数</li>
                    <li><strong>开始充电</strong>: 点击"开始充电"按钮启动仿真</li>
                    <li><strong>实时监控</strong>: 观察SOC、电压、电流、温度变化</li>
                    <li><strong>阶段切换</strong>: 自动在CC→CV→涓流阶段切换</li>
                    <li><strong>停止控制</strong>: 随时暂停或停止充电过程</li>
                </ol>
            </div>

            <h4>🧠 RUL训练使用</h4>
            <div class="warning-box">
                <strong>RUL模型训练步骤:</strong>
                <ol>
                    <li><strong>数据准备</strong>: 上传包含charge/discharge的ZIP数据集</li>
                    <li><strong>触发训练</strong>: 点击"启动训练"开始模型训练</li>
                    <li><strong>进度监控</strong>: 通过WebSocket或REST API监控训练进度</li>
                    <li><strong>模型激活</strong>: 训练完成后模型自动激活</li>
                    <li><strong>优化启用</strong>: 开启"RUL优化充电"功能</li>
                </ol>
            </div>

            <h4>📊 数据分析使用</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>📈 实时监控</h4>
                    <ul>
                        <li>电池状态实时图表</li>
                        <li>温度趋势曲线</li>
                        <li>功率消耗统计</li>
                        <li>效率分析图表</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>📋 历史记录</h4>
                    <ul>
                        <li>充放电记录查询</li>
                        <li>性能趋势分析</li>
                        <li>数据导出功能</li>
                        <li>报表生成工具</li>
                    </ul>
                </div>
            </div>

            <h3>🔧 高级配置</h3>

            <h4>⚙️ 系统配置参数</h4>
            <div class="code-block">
# backend/config.py 主要配置项
SERVER_HOST = "0.0.0.0"          # 服务器主机
SERVER_PORT = 8001               # 服务器端口
DATABASE_PATH = "db/records.db"  # 数据库路径

# 仿真器配置
SIMULATOR_CONFIG = {
    "time_acceleration_factor": 60,     # 时间加速倍数
    "update_interval": 1.0,             # 更新间隔(秒)
    "max_records": 10000,               # 最大记录数
    "auto_save_interval": 300           # 自动保存间隔
}

# WebSocket配置
WEBSOCKET_CONFIG = {
    "ping_interval": 25,     # 心跳间隔
    "ping_timeout": 60,      # 心跳超时
    "max_http_buffer_size": 1e8  # 缓冲区大小
}
            </div>

            <h4>🛠️ 故障排除指南</h4>
            <table>
                <thead>
                    <tr>
                        <th>问题</th>
                        <th>可能原因</th>
                        <th>解决方案</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>后端启动失败</td>
                        <td>端口占用/依赖缺失</td>
                        <td>检查端口8001，重新安装依赖</td>
                    </tr>
                    <tr>
                        <td>前端连接失败</td>
                        <td>CORS配置/网络问题</td>
                        <td>检查后端CORS设置和网络连通性</td>
                    </tr>
                    <tr>
                        <td>RUL训练失败</td>
                        <td>数据格式错误/内存不足</td>
                        <td>检查CSV格式，增加系统内存</td>
                    </tr>
                    <tr>
                        <td>WebSocket断线</td>
                        <td>网络不稳定</td>
                        <td>启用REST API轮询备用方案</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section optimization" id="optimization">
            <h2>🚀 扩展优化</h2>

            <h3>⚡ 性能优化方向</h3>
            <div class="feature-list">
                <div class="feature-item">🔄 异步处理优化</div>
                <div class="feature-item">📊 数据缓存机制</div>
                <div class="feature-item">🚀 模型推理加速</div>
                <div class="feature-item">💾 数据库查询优化</div>
                <div class="feature-item">🔌 WebSocket连接池</div>
                <div class="feature-item">📱 移动端适配</div>
            </div>

            <h4>🔧 后端性能优化</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>🚀 计算优化</h4>
                    <ul>
                        <li><strong>模型缓存</strong>: 预加载TensorFlow模型到内存</li>
                        <li><strong>批量预测</strong>: 批处理RUL预测请求</li>
                        <li><strong>GPU加速</strong>: 支持CUDA加速模型推理</li>
                        <li><strong>量化模型</strong>: 模型压缩减少内存占用</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>💾 数据优化</h4>
                    <ul>
                        <li><strong>Redis缓存</strong>: 实时数据缓存layer</li>
                        <li><strong>数据库分片</strong>: 历史数据分表存储</li>
                        <li><strong>压缩存储</strong>: 数据压缩算法</li>
                        <li><strong>索引优化</strong>: 查询性能提升</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔄 并发优化</h4>
                    <ul>
                        <li><strong>连接池</strong>: 数据库连接池管理</li>
                        <li><strong>任务队列</strong>: Celery异步任务处理</li>
                        <li><strong>负载均衡</strong>: 多实例部署</li>
                        <li><strong>熔断机制</strong>: 服务降级保护</li>
                    </ul>
                </div>
            </div>

            <h4>🖥️ 前端性能优化</h4>
            <div class="code-block">
// 组件懒加载
const ModelManager = defineAsyncComponent(() => 
  import('./components/ModelManager.vue')
);

// 数据虚拟化
const virtualizedList = {
  itemHeight: 50,
  visibleCount: 20,
  bufferSize: 5
};

// 防抖优化
const debouncedUpdate = debounce(updateBatteryState, 100);

// WebWorker计算
const worker = new Worker('./workers/calculation-worker.js');
            </div>

            <h3>🔧 功能扩展方向</h3>

            <h4>🧠 AI模型增强</h4>
            <div class="info-box">
                <strong>深度学习模型扩展:</strong>
                <ul>
                    <li><strong>Transformer架构</strong>: 引入注意力机制提升预测精度</li>
                    <li><strong>多任务学习</strong>: 同时预测RUL、SOH、内阻等指标</li>
                    <li><strong>联邦学习</strong>: 分布式训练保护数据隐私</li>
                    <li><strong>强化学习</strong>: 自适应充电策略优化</li>
                    <li><strong>异常检测</strong>: 基于自编码器的故障诊断</li>
                </ul>
            </div>

            <h4>📊 数据分析增强</h4>
            <div class="tech-grid">
                <div class="tech-card">
                    <h4>📈 高级可视化</h4>
                    <ul>
                        <li>3D电池状态建模</li>
                        <li>热力图温度分布</li>
                        <li>时间序列预测图</li>
                        <li>多维度对比分析</li>
                    </ul>
                </div>
                
                <div class="tech-card">
                    <h4>🔍 智能分析</h4>
                    <ul>
                        <li>异常模式识别</li>
                        <li>性能退化预警</li>
                        <li>最优充电时间推荐</li>
                        <li>成本效益分析</li>
                    </ul>
                </div>
            </div>

            <h4>🌐 系统集成扩展</h4>
            <div class="warning-box">
                <strong>企业级集成方案:</strong>
                <ul>
                    <li><strong>BMS集成</strong>: 与实际电池管理系统对接</li>
                    <li><strong>云端部署</strong>: AWS/Azure/阿里云部署方案</li>
                    <li><strong>微服务架构</strong>: 服务拆分与容器化</li>
                    <li><strong>API网关</strong>: 统一API管理与鉴权</li>
                    <li><strong>监控告警</strong>: Prometheus + Grafana监控</li>
                </ul>
            </div>

            <h3>🔮 未来发展规划</h3>
            <div class="architecture-diagram">
                <div class="flow-diagram">
                    <div class="flow-step">v2.0 多电池支持</div>
                    <div class="flow-step">v2.5 云端AI服务</div>
                    <div class="flow-step">v3.0 数字孪生</div>
                    <div class="flow-step">v3.5 IoT集成</div>
                    <div class="flow-step">v4.0 智慧电网</div>
                </div>
            </div>

            <h4>🎯 技术演进路线图</h4>
            <table>
                <thead>
                    <tr>
                        <th>版本</th>
                        <th>主要功能</th>
                        <th>技术重点</th>
                        <th>预计时间</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>v2.0</td>
                        <td>多电池并行仿真</td>
                        <td>分布式计算</td>
                        <td>Q2 2024</td>
                    </tr>
                    <tr>
                        <td>v2.5</td>
                        <td>云端AI训练服务</td>
                        <td>MLOps流水线</td>
                        <td>Q4 2024</td>
                    </tr>
                    <tr>
                        <td>v3.0</td>
                        <td>数字孪生建模</td>
                        <td>物理-数据融合</td>
                        <td>Q2 2025</td>
                    </tr>
                    <tr>
                        <td>v3.5</td>
                        <td>IoT设备集成</td>
                        <td>边缘计算</td>
                        <td>Q4 2025</td>
                    </tr>
                </tbody>
            </table>

            <h4>🚀 部署优化建议</h4>
            <div class="code-block">
# Docker容器化部署
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 8001
CMD ["uvicorn", "server:socket_app", "--host", "0.0.0.0", "--port", "8001"]

# Kubernetes部署配置
apiVersion: apps/v1
kind: Deployment
metadata:
  name: battery-simulator
spec:
  replicas: 3
  selector:
    matchLabels:
      app: battery-simulator
  template:
    spec:
      containers:
      - name: backend
        image: battery-simulator:latest
        ports:
        - containerPort: 8001
        resources:
          requests:
            memory: "512Mi"
            cpu: "500m"
          limits:
            memory: "2Gi"
            cpu: "2000m"
            </div>
        </div>

        <div class="footer">
            <h3>📞 联系信息</h3>
            <p>项目地址: <a href="https://github.com/your-repo/battery-lstm" style="color: #74b9ff;">GitHub Repository</a></p>
            <p>技术支持: <a href="mailto:support@battery-lstm.com" style="color: #74b9ff;">support@battery-lstm.com</a></p>
            <p>文档更新: 2025年8月</p>
            <br>
            <p><strong>🔋 Battery LSTM Project - 智能电池管理的未来</strong></p>
        </div>
    </div>
</body>
</html>